{
    "name": "IDL",
    "scopeName": "source.idl",
    "fileTypes": [ "pro" ],
    "patterns": [
        {
            "begin": "(^[ \\t]+)?(?=;)",
            "beginCaptures": {
                    "1": {"name": "punctuation.whitespace.comment.leading.idl"}
                },
            "end": "(?!\\G)",
            "patterns": [
                {
                    "begin": ";",
                    "beginCaptures": {
                            "0": {"name": "punctuation.definition.comment.idl"}
                        },
                    "end": "\\n",
                    "name": "comment.line.semicolon.idl"
                }
            ]
        },
        {
            "include": "#number"
        },
        {
            "include": "#single-quoted-string"
        },
        {
            "include": "#double-quoted-string"
        },
        {
            "include": "#procedure"
        }
    ],
    "repository": {
        "number": {
            "comment": "Valid numbers 1[bB], 1(sS|), 1[uU], 1[lL], 1[uU][lL], 1[lL][lL], 1[uU][lL][lL], .1, 1.1, .1e1, 1.1e1, 1e1, .1[dD], 1.1[dD], .1[dD]1, 1.1[dD]1",
            "match": "(?<=[\\s\\-\\+\\*\\/\\\\=:\\[\\(\\{,]|^)(\\d|\\.)\\d*(\\.\\d*)?((?i)b|s|ul?l?|ll?|e|d|)([+-]?\\d+)?",
            "name": "constant.numeric.idl"
        },
        "single-quoted-string": {
            "comment": "IDL strings are very similar to Python strings; single & double quotes are equivalent.",
            "match": "'[^']*'",
            "name": "string.quoted.single.idl"
        },
        "double-quoted-string": {
            "comment": "IDL strings are very similar to Python strings; single & double quotes are equivalent.",
            "match": "\"[^\"]*\"",
            "name": "string.quoted.double.idl"
        },
        "procedure": {
            "comment": "Capture anything that looks like a procedure, narrow this down later",
            "match": "^\\s*[a-zA-Z0-9_]+(?=,)",
            "name": "support.function.idl"
        }
    }
}
